import './polyfills.server.mjs';
import{Ea as L,Ga as U,I as E,Ja as D,K as M,L as P,V as v,W as l,ba as C,ca as f,da as T,ea as k,fa as b,ga as u,ha as g,ia as h,ja as n,ka as i,la as c,ma as F,na as j,oa as m,pa as A,qa as a,ra as s,sa as _,ta as I,ua as w}from"./chunk-UHY3T6BL.mjs";import{h as S}from"./chunk-VVCT4QZE.mjs";function O(o,t){o&1&&(n(0,"div",9),c(1,"div",10),i())}function B(o,t){if(o&1&&(n(0,"div",11),a(1),i()),o&2){let e=m();l(),s(e.errorMessage)}}function V(o,t){o&1&&(n(0,"small",32),a(1,"Upcoming"),i())}function Y(o,t){o&1&&(n(0,"small",33),a(1,"Past"),i())}var z=()=>({dateStyle:"long",timeZone:"UTC"});function G(o,t){if(o&1){let e=F();n(0,"a",27),j("click",function(){let p=M(e).$implicit,N=m(2);return P(N.selectedMeeting=p)}),n(1,"div",28)(2,"strong",29),a(3),i(),C(4,V,2,0,"small",30)(5,Y,2,0),i(),n(6,"div",31),a(7),i()()}if(o&2){let e=t.$implicit,r=m(2);k("active",r.selectedMeeting==e),l(3),_(" ",e.when.toLocaleString("default",w(5,z))," "),l(),b(4,e.isUpcoming()?4:5),l(3),_("",e.projectCount()," projects")}}function H(o,t){if(o&1&&(n(0,"tr")(1,"td"),a(2),i(),n(3,"td"),a(4),i(),n(5,"td"),a(6),i()()),o&2){let e=t.$implicit;l(),T("width","50%"),l(),s(e.description),l(2),s(e.location),l(2),s(e.councilmember)}}function R(o,t){o&1&&(n(0,"tr")(1,"td",41),a(2,"None found"),i()())}function Z(o,t){if(o&1&&(n(0,"div",34)(1,"h2",35)(2,"button",36),a(3),i()(),n(4,"div",37)(5,"div",38)(6,"table",39)(7,"tbody")(8,"tr")(9,"th",40),a(10,"Name and description"),i(),n(11,"th",40),a(12,"Location"),i(),n(13,"th",40),a(14,"Councilmember"),i()(),g(15,H,7,5,"tr",null,u,!1,R,3,0,"tr"),i()()()()()),o&2){let e=t.$implicit,r=t.$index;l(2),f("data-bs-target","#accordion"+r),l(),_(" ",e.name," "),l(),A("id","accordion",r,""),l(11),h(e.projects)}}var q=()=>({dateStyle:"full",timeStyle:"short",timeZone:"UTC"});function J(o,t){if(o&1&&(n(0,"div",12)(1,"div",13)(2,"div",14),a(3,"NYC Planning Commission Meetings"),i(),n(4,"a",15),c(5,"i",16),a(6," Get notified about upcoming meetings "),i(),n(7,"div",17),g(8,G,8,6,"a",42,u),i()(),c(10,"div",18),n(11,"div",19)(12,"h2"),a(13),i(),n(14,"div",20),a(15," City Planning Commission Hearing Room, Lower Concourse - 120 Broadway, New York, NY "),i(),n(16,"div",21)(17,"a",22),c(18,"i",23),a(19," View official agenda PDF "),i(),n(20,"a",22),c(21,"i",24),a(22," Add this meeting to your Google Calendar "),i()(),n(23,"div",25),a(24," Click on the headers below to see the projects reviewed at this meeting. "),i(),n(25,"div",26),g(26,Z,18,4,"div",43,u),i()()()),o&2){let e=m();l(8),h(e.meetings),l(5),s(e.selectedMeeting==null||e.selectedMeeting.when==null?null:e.selectedMeeting.when.toLocaleString("default",w(3,q))),l(4),f("href",e.selectedMeeting==null?null:e.selectedMeeting.pdfPath,v),l(3),f("href",e.selectedMeeting==null?null:e.selectedMeeting.gcalLink,v),l(6),h(e.selectedMeeting==null?null:e.selectedMeeting.sections)}}var $=(()=>{let t=class t{constructor(){this.meetings=[],this.isLoading=!0}ngOnInit(){return S(this,null,function*(){try{let r=yield fetch("meetings").then(d=>d.json());this.meetings=r.map(d=>new y(d)),this.selectedMeeting=this.meetings[0]}catch(r){this.errorMessage=`Error: Failed to get NYC planning agendas: ${r}`}finally{this.isLoading=!1}})}};t.\u0275fac=function(d){return new(d||t)},t.\u0275cmp=E({type:t,selectors:[["app-root"]],standalone:!0,features:[I],decls:12,vars:1,consts:[["class","d-flex justify-content-center"],["id","signupModal","tabindex","-1",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content","iframe-container"],[1,"modal-header"],["data-bs-dismiss","modal",1,"btn-close"],["src","https://cdn.forms-content.sg-form.com/65250b7a-20fe-11ee-a075-3ee1878c20fd"],[1,"modal-footer"],["data-bs-dismiss","modal",1,"btn","btn-secondary"],[1,"d-flex","justify-content-center"],[1,"spinner-border","m-3"],[1,"text-danger"],[1,"d-flex","h-100"],[1,"d-flex","flex-column","flex-shrink-0","bg-body-tertiary"],[1,"fs-5","fw-semibold","p-3"],["data-bs-toggle","modal","href","#signupModal",1,"btn","btn-outline-info","mb-3","mx-3"],[1,"bi-bell"],[1,"list-group","list-group-flush","overflow-auto"],[1,"divider"],[1,"overflow-auto","p-3","w-100"],[1,"lead","mb-2"],[1,"d-flex","flex-column"],["target","_blank",1,"text-decoration-none"],[1,"bi-file-earmark-pdf"],[1,"bi-calendar-event"],[1,"small","text-muted","pt-2"],[1,"accordion","pt-1"],["href","#",1,"list-group-item","py-3","lh-sm",3,"click"],[1,"d-flex"],[1,"mb-1"],["class","ms-auto text-warning"],[1,"col-10","mb-1","small"],[1,"ms-auto","text-warning"],[1,"ms-auto","text-secondary"],[1,"accordion-item"],[1,"accordion-header"],["data-bs-toggle","collapse",1,"accordion-button","collapsed","data"],[1,"accordion-collapse","collapse",3,"id"],[1,"accordion-body"],[1,"table"],["scope","col"],["colspan","3"],["href","#","class","list-group-item py-3 lh-sm",3,"active"],["class","accordion-item"]],template:function(d,p){d&1&&(C(0,O,2,0,"div",0)(1,B,2,1)(2,J,28,4),n(3,"div",1)(4,"div",2)(5,"div",3)(6,"div",4),c(7,"button",5),i(),c(8,"iframe",6),n(9,"div",7)(10,"button",8),a(11,"Close"),i()()()()()),d&2&&b(0,p.isLoading?0:p.errorMessage!==void 0?1:2)},styles:[".divider[_ngcontent-%COMP%]{height:100vh;width:1.5rem;background-color:#0000001a;box-shadow:inset 0 .125em .5em #0000001a}.iframe-container[_ngcontent-%COMP%]{width:fit-content}.iframe-container[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{height:540px;width:580px}"]});let o=t;return o})(),x=class x{constructor(t){this.id=t.id,this.when=new Date(t.when),this.gcalLink=t.gcal_link,this.pdfPath=t.pdf_path,this.sections=[{name:this.isUpcoming()?"Projects that will have public hearings":"Projects that had public hearings",projects:t.projects.filter(e=>e.is_public_hearing)},{name:this.isUpcoming()?"Projects that will be voted on":"Projects that were voted on",projects:t.projects.filter(e=>!e.is_public_hearing)}]}isUpcoming(){return x.today<=this.when}projectCount(){return this.sections.reduce((t,e)=>t+e.projects.length,0)}};x.today=new Date(new Date().toDateString());var y=x;var K=()=>L($,{providers:[U(),D()]}),ne=K;export{ne as a};
