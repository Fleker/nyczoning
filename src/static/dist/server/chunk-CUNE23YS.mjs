import './polyfills.server.mjs';
import{Fa as U,Ga as D,Ha as L,I as w,Ia as $,Ja as H,K as S,L as y,La as N,Oa as O,V as b,W as r,X as E,ca as M,da as p,ea as P,fa as k,ga as F,ha as u,ia as f,ja as h,ka as i,la as t,ma as m,na as I,oa as T,pa as _,qa as j,ra as n,sa as s,ta as g,ua as A,va as x}from"./chunk-IDDGT3GR.mjs";function Y(a,e){a&1&&(i(0,"small",28),n(1,"Upcoming"),t())}function z(a,e){a&1&&(i(0,"small",29),n(1,"Past"),t())}var G=()=>({dateStyle:"long",timeZone:"UTC"});function R(a,e){if(a&1){let o=I();i(0,"a",23),T("click",function(){let l=S(o).$implicit,V=_();return y(V.selectedMeeting=l)}),i(1,"div",24)(2,"strong",25),n(3),t(),M(4,Y,2,0,"small",26)(5,z,2,0),t(),i(6,"div",27),n(7),t()()}if(a&2){let o=e.$implicit,d=_();k("active",d.selectedMeeting==o),r(3),g(" ",o.when.toLocaleString("default",x(5,G))," "),r(),F(4,o.isUpcoming()?4:5),r(3),g("",o.projectCount()," projects")}}function Z(a,e){if(a&1&&(i(0,"tr")(1,"td"),n(2),t(),i(3,"td"),n(4),t(),i(5,"td"),n(6),t()()),a&2){let o=e.$implicit;r(),P("width","50%"),r(),s(o.description),r(2),s(o.location),r(2),s(o.councilmember)}}function q(a,e){a&1&&(i(0,"tr")(1,"td",37),n(2,"None found"),t()())}function J(a,e){if(a&1&&(i(0,"div",30)(1,"h2",31)(2,"button",32),n(3),t()(),i(4,"div",33)(5,"div",34)(6,"table",35)(7,"tbody")(8,"tr")(9,"th",36),n(10,"Name and description"),t(),i(11,"th",36),n(12,"Location"),t(),i(13,"th",36),n(14,"Councilmember"),t()(),f(15,Z,7,5,"tr",null,u,!1,q,3,0,"tr"),t()()()()()),a&2){let o=e.$implicit,d=e.$index;r(2),p("data-bs-target","#accordion"+d),r(),g(" ",o.name," "),r(),j("id","accordion",d,""),r(11),h(o.projects)}}var K=()=>({dateStyle:"full",timeStyle:"short",timeZone:"UTC"}),B=(()=>{let e=class e{constructor(d){this.http=d,this.meetings=[]}ngOnInit(){this.http.get("/meetings").subscribe(d=>{this.meetings=d.map(c=>new C(c)),this.selectedMeeting=this.meetings[0]})}};e.\u0275fac=function(c){return new(c||e)(E(U))},e.\u0275cmp=w({type:e,selectors:[["app-root"]],standalone:!0,features:[A],decls:37,vars:4,consts:[[1,"d-flex","h-100"],[1,"d-flex","flex-column","flex-shrink-0","bg-body-tertiary"],[1,"fs-5","fw-semibold","p-3"],["data-bs-toggle","modal","href","#signupModal",1,"btn","btn-outline-info","mb-3","mx-3"],[1,"bi-bell"],[1,"list-group","list-group-flush","overflow-auto"],[1,"divider"],[1,"overflow-auto","p-3","w-100"],[1,"lead","mb-2"],[1,"d-flex","flex-column"],["target","_blank",1,"text-decoration-none"],[1,"bi-file-earmark-pdf"],[1,"bi-calendar-event"],[1,"small","text-muted","pt-2"],[1,"accordion","pt-1"],["id","signupModal","tabindex","-1",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content","iframe-container"],[1,"modal-header"],["data-bs-dismiss","modal",1,"btn-close"],["src","https://cdn.forms-content.sg-form.com/65250b7a-20fe-11ee-a075-3ee1878c20fd"],[1,"modal-footer"],["data-bs-dismiss","modal",1,"btn","btn-secondary"],["href","#",1,"list-group-item","py-3","lh-sm",3,"click"],[1,"d-flex"],[1,"mb-1"],["class","ms-auto text-warning"],[1,"col-10","mb-1","small"],[1,"ms-auto","text-warning"],[1,"ms-auto","text-secondary"],[1,"accordion-item"],[1,"accordion-header"],["data-bs-toggle","collapse",1,"accordion-button","collapsed","data"],[1,"accordion-collapse","collapse",3,"id"],[1,"accordion-body"],[1,"table"],["scope","col"],["colspan","3"],["href","#","class","list-group-item py-3 lh-sm",3,"active"],["class","accordion-item"]],template:function(c,l){c&1&&(i(0,"div",0)(1,"div",1)(2,"div",2),n(3,"NYC Planning Commission Meetings"),t(),i(4,"a",3),m(5,"i",4),n(6," Get notified about upcoming meetings "),t(),i(7,"div",5),f(8,R,8,6,"a",38,u),t()(),m(10,"div",6),i(11,"div",7)(12,"h2"),n(13),t(),i(14,"div",8),n(15," City Planning Commission Hearing Room, Lower Concourse - 120 Broadway, New York, NY "),t(),i(16,"div",9)(17,"a",10),m(18,"i",11),n(19," View official agenda PDF "),t(),i(20,"a",10),m(21,"i",12),n(22," Add this meeting to your Google Calendar "),t()(),i(23,"div",13),n(24," Click on the headers below to see the projects reviewed at this meeting. "),t(),i(25,"div",14),f(26,J,18,4,"div",39,u),t()()(),i(28,"div",15)(29,"div",16)(30,"div",17)(31,"div",18),m(32,"button",19),t(),m(33,"iframe",20),i(34,"div",21)(35,"button",22),n(36,"Close"),t()()()()()),c&2&&(r(8),h(l.meetings),r(5),s(l.selectedMeeting==null||l.selectedMeeting.when==null?null:l.selectedMeeting.when.toLocaleString("default",x(3,K))),r(4),p("href",l.selectedMeeting==null?null:l.selectedMeeting.pdfPath,b),r(3),p("href",l.selectedMeeting==null?null:l.selectedMeeting.gcalLink,b),r(6),h(l.selectedMeeting==null?null:l.selectedMeeting.sections))},dependencies:[$],styles:[".divider[_ngcontent-%COMP%]{height:100vh;width:1.5rem;background-color:#0000001a;box-shadow:inset 0 .125em .5em #0000001a}.iframe-container[_ngcontent-%COMP%]{width:fit-content}.iframe-container[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{height:540px;width:580px}"]});let a=e;return a})(),v=class v{constructor(e){this.id=e.id,this.when=new Date(e.when),this.gcalLink=e.gcal_link,this.pdfPath=e.pdf_path,this.sections=[{name:this.isUpcoming()?"Projects that will have public hearings":"Projects that had public hearings",projects:e.projects.filter(o=>o.is_public_hearing)},{name:this.isUpcoming()?"Projects that will be voted on":"Projects that were voted on",projects:e.projects.filter(o=>!o.is_public_hearing)}]}isUpcoming(){return v.today<=this.when}projectCount(){return this.sections.map(e=>e.projects.length).reduce((e,o)=>e+o,0)}};v.today=new Date(new Date().toDateString());var C=v;var Q=()=>H(B,{providers:[N(),O(),D(L())]}),le=Q;export{le as a};
